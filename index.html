<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trumpdle</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: #1f2937;
    }

    .instruction {
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
      color: #374151;
      text-align: center;
    }

    .post {
      background-color: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 2rem;
      max-width: 700px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      width: 100%;
    }

    #quote {
      font-size: 1.4rem;
      line-height: 2rem;
      text-align: left;
      user-select: none;
    }

    .word {
      display: inline;
      padding: 3px 6px;
      margin-right: 4px;
      border-radius: 6px;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .word:hover {
      background-color: #e0f2fe;
    }

    .word.correct {
      background-color: #d1fae5;
      border-bottom: 2px solid #10b981;
    }

    .word.incorrect {
      background-color: #fee2e2;
      border-bottom: 2px solid #ef4444;
    }

    .word.capitalized {
      font-weight: bold;
    }

    .buttons {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      justify-content: center;
    }

    button {
      padding: 0.6rem 1.4rem;
      font-size: 1rem;
      font-weight: 500;
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s ease-in-out;
    }

    button:hover {
      background-color: #1d4ed8;
    }

    .score {
      margin-top: 1rem;
      font-size: 1.2rem;
      color: #111827;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>Trumpdle</h1>
  <div class="instruction" id="instructions"></div>

  <div class="post">
    <div id="quote"></div>
  </div>

  <div class="buttons">
    <button onclick="checkAnswer()">Check Answer</button>
    <button onclick="resetQuote()">Reset</button>
  </div>

  <div class="score" id="scoreDisplay"></div>

  <script>
    // Daily quote data
    const quoteText = "All Federal Funding will stop for any College, School, or University that allows illegal protests. Agitators will be imprisoned/or permanently sent back to the country from which they came. American students will be permanently expelled or, depending on on the crime, arrested. No masks! Thank you for your attention to this matter.";
    const correctWords = ["stop", "No", "masks"];
    const maxSelections = correctWords.length;

    let selectedCount = 0;
    const quoteContainer = document.getElementById("quote");
    const instructionDiv = document.getElementById("instructions");
    const scoreDisplay = document.getElementById("scoreDisplay");

    function loadQuote() {
      quoteContainer.innerHTML = "";
      scoreDisplay.innerHTML = "";
      selectedCount = 0;

      instructionDiv.textContent = `Highlight ${maxSelections} word${maxSelections > 1 ? "s" : ""} in the quote below by clicking on them.`;

      const words = quoteText.split(" ");
      words.forEach((word, i) => {
        const span = document.createElement("span");
        const cleanWord = word.replace(/[.,]/g, '');
        span.className = "word";
        span.dataset.original = word;
        span.dataset.clean = cleanWord.toLowerCase();
        span.textContent = word;
        span.onclick = () => toggleWord(span);
        quoteContainer.appendChild(span);

        if (i < words.length - 1) {
          quoteContainer.appendChild(document.createTextNode(" "));
        }
      });
    }

    function toggleWord(span) {
      const isCap = span.classList.contains("capitalized");

      if (!isCap && selectedCount >= maxSelections) {
        alert(`You can only select ${maxSelections} word${maxSelections > 1 ? "s" : ""}.`);
        return;
      }

      if (isCap) {
        span.textContent = span.dataset.original;
        span.classList.remove("capitalized", "correct", "incorrect");
        selectedCount--;
      } else {
        const clean = span.dataset.clean.toUpperCase();
        const punct = /[.,]$/.test(span.dataset.original) ? span.dataset.original.slice(-1) : '';
        span.textContent = clean + punct;
        span.classList.add("capitalized");
        selectedCount++;
      }
    }

    function resetQuote() {
      loadQuote();
    }

    function checkAnswer() {
      let score = 0;
      const spans = document.querySelectorAll(".word");

      const correctSet = new Set(correctWords);
      const selectedWords = [];

      spans.forEach(span => {
        span.classList.remove("correct", "incorrect");

        const isCap = span.classList.contains("capitalized");
        const word = span.dataset.clean;

        if (isCap) {
          selectedWords.push(word);
          if (correctSet.has(word)) {
            span.classList.add("correct");
            score++;
          } else {
            span.classList.add("incorrect");
            score--; // penalty
          }
        }
      });

      // Prevent negative score
      if (score < 0) score = 0;

      // Show unselected correct words
      correctWords.forEach(word => {
        if (!selectedWords.includes(word)) {
          const span = [...spans].find(s => s.dataset.clean === word);
          if (span) {
            span.classList.add("correct");
          }
        }
      });

      scoreDisplay.innerHTML = `Your score: <strong>${score}</strong> out of ${correctWords.length}`;
    }

    window.onload = loadQuote;
  </script>

</body>
</html>
